---
title: 重置博客
date: 2020-02-27 11:41:54
tags: 杂项
---



更换硬盘后原有hexo本地文件丢失，重置博客后的小结。

<!--more-->



[参考博客](https://blog.csdn.net/ZWX2445205419/article/details/66970640?utm_source=blogxgwz5)

1. 文中存在问题：`clone`后`init`，会报错非空文件夹不能执行，可`init`后将`clone`到的文件存入
2. github仓库应配置两个branch：master用于存放blog页面内容；hexo分支用于存放hexo（本地）内容
3. `hexo d`后会自动部署到master分支；hexo分支需手动`git add . -f`、 `git commit`、 `git push origin hexo`~~、`git push origin_coding hexo`。因为有两个remote，一个github、一个coding，所以push要在origin和origin_coding各做一次。~~
	1. `.git/config`中，`[remote "origin"]`添加以下两句，即可一次 push，两个上传
		1. `pushurl = git@github.com:gaylong9/gaylong9.github.io.git`
		2. `pushurl = git@e.coding.net:gaylong9/gaylong9.git`
4. 后续换机、或异地管理，只需clone仓库即可
5. 文中提到异地管理时，需将`.deploy_git`删除，否则部署时会将博客部署到master分支，因为此次只是重建，并未涉及到博客复原（异地管理），故未尝试，存疑（两个分支不就是为了部署到master，备份到hexo吗）
6. 图片问题：要使用`npm install https://github.com/CodeFalling/hexo-asset-image --save`命令安装hexo-asset-image插件，否则版本号不对，图片显示有些问题 [参考博客](https://blog.csdn.net/Strong997/article/details/97767929)
7. 换行：`<br/>`
8. 目录：安装`hexo-toc`，在`_config.yaml`中添加`toc: maxDepth: 5`，文章中添加 `<!-- t_o_c -->` ，没有下划线，**注意空格**
9. 本地库与远程库的链接：
	1. 本地已有项目内`git init`，即会创建.git文件夹，将当前文件夹建为本地仓库。
	2. `git remote add origin address` 将远程库以origin命名，添加至链接的远程库
	3. `git pull origin master` 先pull，合并文件
	4. 随后add、commit后`git push --set-upstream origin master`，初次push，设置推送流。
10. `scaffolds/post`是博客文章模板
11. `hexo new <title>` `hexo g` `hexo s` `hexo d`
12. Md中，代码块不能直接放在`1.`这种序号后，引起hexo编译错误